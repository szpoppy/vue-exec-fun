"use strict";function _defineProperty(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function _toConsumableArray(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}function assign(n,r){for(var e in r)if(hasOwnProperty.call(r,e)){var t=toString.call(n[e]).toLowerCase(),o=toString.call(r[e]).toLowerCase();if(t==o&&"[object object]"==o){assign(n[e],r[e]);continue}n[e]=r[e]}}function vueFunOn(n){pluginArr.push(n)}function vueFunInstall(n,r){Vue=n,r&&pluginArr.push(r)}function warn(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"before";console.warn(msgOpt[n]||n||"")}function vueFun(n){function r(n,r){void 0===r&&(r=this);for(var e=n.split("."),t=0;t<e.length&&null!=(r=r[e[t]]);t+=1);return r}function e(n){var r,e=n.resolve,t=n.key,o=n.args,i=n.reject;if(!t)return i&&i(null),null;if("function"==typeof t){var u=fn.apply(m,o);return e&&e(u),u}for(var a=t.split("."),f=a.pop(),c=m,l=0;l<a.length&&null!=(c=c[a[l]]);l+=1);if(!c||!c[f])return i&&i(null),null;var s=(r=c)[f].apply(r,_toConsumableArray(o));return e&&e(s),s}function t(n){for(var r=arguments.length,t=Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];o.unshift.apply(o,t);var u={key:n,args:o};return m?e(u):new Promise(function(n,r){u.reject=r,u.resolve=n,b.push(u)})}}function o(n,e){if(!m)return null;if(void 0===n)return m;var t=r(n,m);return void 0===e?t:t.apply(m,e)}function i(n,r){Object.defineProperty(n,r,{get:function(){return(m||O)[r]},set:function(n){(m||O)[r]=n}})}function u(n,e,t){var o=m||n;if("string"==typeof e){if(void 0===t)return r(e,o);e=_defineProperty({},e,t)}var u={};return assign(n,e),Object.keys(e).forEach(function(n){i(u,n)}),Object.freeze(u)}function a(n,r){return u(O,n,r)}function f(n,r){return u(k,n,r)}function c(n,r,e){if($)return void warn();var t=void 0,o=void 0,i=void 0,u=void 0;n&&"string"!=typeof n&&(t=n.format,o=n.isFreeze,i=n.isBack,n.def&&(u=n.def),n=n.prot),o&&void 0===i&&(i=!0);var a=r;"string"==typeof r&&(a=_defineProperty({},r,e),e=null,r=null);var f=F[n];f||(f=F[n]=u||{});var c=i&&{}||null;for(var l in a)if(hasOwnProperty.call(a,l)&&(f[l]=a[l],c))if(t){var s=t({value:a[l],backData:c,key:l,opt:f});void 0!==s&&(c[l]=s)}else c[l]=a[l];return c&&o?Object.freeze(c):c}function l(n){var r=n.value;return"function"==typeof r?t(r):r}function s(n){return function(r,e){return c(n,r,e)}}function p(n,r){if($)return void warn();var e=void 0;return"string"!=typeof n&&n&&(e=n.format,n=n.prot),F[n]=r,e?e(r):r}function v(n){return function(r){return p(n,r)}}function d(){if($)return void warn();w.push.apply(w,arguments)}function y(n){return function(){for(var r=0;r<n.length;r+=1)n[r].apply(this,arguments)}}function g(){var n={},r={get:function(){return n},on:function(e,t){if("string"==typeof e){var o=n[e];return o||(o=n[e]=[]),void o.push(t)}for(var i in e)r.on(i,e[i]);return r},make:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r;"string"==typeof r&&((e=F[r])||(e=F[r]={}));for(var t in n)e[t]=y(n[t]);return e},emit:function(r){for(var e=n[r]||[],t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];for(var u=0;u<e.length;u+=1)e[u].apply(m,o)},currying:function(n){return function(e){return r.on(n,e)}},has:function(){for(var r in n)return!0;return!1}};return r}var h={},m=void 0,$=!1,b=[],O={},k={},F={data:function(){return O},setup:function(){return k}},w=[],j=g();j.on("beforeCreate",function(){for(m=this;b.length;)e(b.shift())}),j.on("created",function(){m=this}),j.on("destroyed",function(){m=null,$=!1;for(var n in h)0==n.indexOf("$handleT$")&&clearTimeout(h[n]),0==n.indexOf("$handleI$")&&clearInterval(h[n]),h[n]=void 0,delete h[n]});var P=t("$emit"),A={temp:h,options:F,data:O,setup:k,$setOpt:c,$setProt:p,$vm:o,$bindNext:t,$name:v("name"),$mixin:d,$components:s({prot:"components",sBack:!1}),$directives:s({prot:"directives",isBack:!1}),$props:s({prot:"props",isFreeze:!0,format:function(n){var r=n.backData,e=n.key,t=n.value,o={get:function(){return m?m[e]:null}},i="";"[object object]"==toString.call(t).toLowerCase()&&(i=t.setFn,i&&(o.set="function"!=typeof i?function(n){P(i,n)}:i),delete t.setFn),Object.defineProperty(r,e,o)}}),$data:a,$setup:f,$computed:s({prot:"computed",isFreeze:!0,format:function(n){var r=n.backData,e=n.key;Object.defineProperty(r,e,{get:function(){return m?m[e]:null},set:function(n){m&&(m[e]=n)}})}}),$filters:s({prot:"filters",isFreeze:!0,format:l}),$model:s({prot:"model",isBack:!1}),$watch:function(n,r){return function(){$?r.apply(void 0,arguments):n.apply(void 0,arguments)}}(s({prot:"watch",isBack:!1}),t("$watch")),$methods:s({prot:"methods",isFreeze:!0,format:l}),$lifecycle:j.on,$created:j.currying("created"),$mounted:j.currying("mounted"),$destroyed:j.currying("destroyed"),$emit:P,$nextTick:t("$nextTick")},x=[];return pluginArr.forEach(function(n){n({after:function(n){x.push(n)},fnArg:A,lifecycle:j,makeLifecycle:g,setOpt:s,setProt:v,fnToBindVM:l,quickVueNext:t})}),n&&n(A),x.forEach(function(n){n(A)}),j.make(F),w.length&&(F.mixins=w),$=!0,console.log(F),F}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vueFunOn=vueFunOn,exports.vueFunInstall=vueFunInstall;var hasOwnProperty=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,Vue=void 0,pluginArr=[],msgOpt={before:"vue已经初始化，请在初始化之前调用",after:"vue还没初始化，请在created之后调用"};vueFun.on=vueFunOn,vueFun.install=vueFunInstall,exports.default=vueFun;