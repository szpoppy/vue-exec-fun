"use strict";function _toConsumableArray(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}function _defineProperty(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function vueFunOn(n){pluginArr.push(n)}function vueFunInstall(n,r){Vue=n,r&&pluginArr.push(r)}function warn(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"before";console.warn(msgOpt[n]||n||"")}function vueFun(n){function r(n,r){void 0===r&&(r=this);for(var t=n.split("."),e=0;e<t.length&&null!=(r=r[t[e]]);e+=1);return r}function t(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];return function(){if(!d)return void warn("after");n.apply(d,t.concat(arguments))}}function e(n,t){if(!d)return null;if(void 0===n)return d;var e=r(n,d);return void 0===t?e:e.call(d,t)}function o(n,r){Object.defineProperty(n,r,{get:function(){return(d||m)[r]},set:function(n){(d||m)[r]=n}})}function i(n,t){var e=d||m;if("string"==typeof n){if(void 0===t)return r(n,e);n=_defineProperty({},n,t)}var i={};for(var u in n)hasOwnProperty.call(n,u)&&(e[u]=n[u],o(i,u));return Object.freeze(i)}function u(n){var r=n.value;return"function"==typeof r?t(r):r}function a(n){function r(n,r){if(y)return void warn();t&&!g[t]&&(g[t]=a);var i=u&&{}||null;"string"==typeof n&&(n=_defineProperty({},n,r));for(var f in n)if(hasOwnProperty.call(n,f)&&(a[f]=n[f],i))if(e){var c=e({value:n[f],backData:i,key:f,opt:a});void 0!==c&&(i[f]=c)}else i[f]=r;return i&&o?Object.freeze(i):i}var t=n.prot,e=n.format,o=n.isFreeze,i=n.isBack,u=void 0===i||i,a={};return{data:a,on:r}}function f(n,r){return function(t){return y?void warn():(g[n]=t,r?r(t):t)}}function c(){if(y)return void warn();h.push.apply(h,arguments)}function l(n){return function(){for(var r=0;r<n.length;r+=1)n[r].apply(this,arguments)}}function p(){var n={},r={on:function(t,e){if("string"==typeof t){var o=n[t];return o||(o=n[t]=[]),void o.push(e)}for(var i in t)$(i,t[i]);return r},make:function(r){"string"==typeof r&&(r=g[r]?g[r]:g[r]={});for(var t in n)r[t]=l(n[t]);return r},emit:function(r){for(var t=n[r]||[],e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];for(var u=0;u<t.length;u+=1)t[u].apply(d,o)},currying:function(n){return function(t){return r.on(n,t)}},has:function(){for(var r in n)return!0;return!1}};return r}function s(n){return function(){var r=d;return r?r[n].apply(r,arguments):void b.push({key:n,args:arguments})}}var v={},d=void 0,y=!1,m={},g={data:function(){return m}},h=[],b=[],$=p();$.on("beforeCreate",function(){for(d=this;b.length;){var n,r=b.shift();(n=d)[r.key].apply(n,_toConsumableArray(r.args))}}),$.on("created",function(){d=this}),$.on("destroyed",function(){d=null,y=!1});var k=s("$emit"),F={temp:v,options:g,data:m,$vm:e,$bind:t,$name:f("name"),$mixin:c,$components:a({prot:"components",sBack:!1}).on,$directives:a({prot:"directives",isBack:!1}).on,$props:a({prot:"props",isFreeze:!0,format:function(n){var r=n.backData,t=n.key,e=n.value,o={get:function(){return d?d[t]:null}},i="";"[object object]"==toString.call(e).toLowerCase()&&(i=e.setFn,i&&(o.set="function"!=typeof i?function(n){k(i,n)}:i),delete e.setFn),Object.defineProperty(r,t,o)}}).on,$data:i,$computed:a({prot:"computed",isFreeze:!0,format:function(n){var r=n.backData,t=n.key;Object.defineProperty(r,t,{get:function(){return d?d[t]:null},set:function(n){d&&(d[t]=n)}})}}).on,$filters:a({prot:"filters",isFreeze:!0,format:"fnToBindVM"}).on,$model:a({prot:"model",isBack:!1}).on,$watch:function(n,r){return function(){y?r.apply(void 0,arguments):n.apply(void 0,arguments)}}(a({prot:"watch",isBack:!1}).on,s("$watch")),$methods:a({prot:"methods",isFreeze:!0,format:u}).on,$lifecycle:$,$created:$.currying("created"),$mounted:$.currying("mounted"),$destroyed:$.currying("destroyed"),$emit:k,$nextTick:s("$nextTick")},O=[];return pluginArr.forEach(function(n){n({temp:v,options:g,data:m,$vm:e,after:function(n){O.push(n)},fnArg:F,lifecycle:$,makeLifecycle:p,setter:a,fnToBindVM:u,quickToVueFn:s,setProt:f})}),n&&n(F),O.forEach(function(n){n(F)}),$.make(g),h.length&&(g.mixins=h),y=!0,g}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vueFunInstall=vueFunInstall;var hasOwnProperty=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,Vue=void 0,pluginArr=[],msgOpt={before:"vue已经初始化，请在初始化之前调用",after:"vue还没初始化，请在created之后调用"};vueFun.on=vueFunOn,vueFun.install=vueFunInstall,exports.default=vueFun;